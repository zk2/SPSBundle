{% form_theme filter_form 'bootstrap_3_layout.html.twig' %}

{% set td_colspan = colspan is defined ? colspan : 2 %}

<div class="sps-area">
    <div id="sps_filter">
        <nav class="navbar" role="navigation">
            <a class="navbar-brand" data-toggle="collapse" href="#collapseSPS">
                <span class="glyphicon glyphicon-search"></span>{% trans with {} from "sps" %}
                filter.filter{% endtrans %}
            </a>
        </nav>
        <div id="collapseSPS" class="accordion-body collapse">
            <div class="accordion-inner">
                {{ form_start(filter_form, {'attr': {'class':"form-inline"}}) }}
                <table class="table table-condensed">
                    <tr>
                        {% set ind = 0 %}
                        {% for key,childs in group_field %}
                            {% set ind = ind + 1 %}
                            <td>
                                {% for num,child in childs %}
                                    {% if num == 0 %}{{ form_label(child) }}{% endif %}
                                    {{ form_widget(child) }}
                                {% endfor %}
                            </td>
                            {% if ind % td_colspan == 0 %}</tr><tr>{% endif %}
                        {% endfor %}
                    </tr>
                    <tr>
                        <th class="navbar" colspan="{{ td_colspan }}">
                            <a class="btn btn-xs btn-danger"
                               href="{{ path(app.request.get('_route'),app.request.get('_route_params')|merge({ '_sps_reset': '1' })) }}"
                               style="margin-right: 20px;">
                                {% trans with {} from "sps" %}filter.reset{% endtrans %}
                            </a>
                            <button type="submit" class="btn btn-small btn-success">
                                {% trans with {} from "sps" %}filter.filter{% endtrans %}
                                <span class="glyphicon glyphicon-search"></span>
                            </button>
                        </th>
                    </tr>
                </table>
                {{ form_end(filter_form, {'render_rest': false}) }}
            </div>
        </div>
    </div>
</div>